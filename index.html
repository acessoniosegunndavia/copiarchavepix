<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NegociaÃ§Ã£o PIX</title>

<style>
:root{
  --bg:#020617;
  --card:#020617;
  --green:#22c55e;
  --green2:#4ade80;
  --text:#e5e7eb;
  --muted:#94a3b8;
}

*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#020617,#0f172a);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}

.container{
  width:100%;
  max-width:420px;
}

.card{
  background:var(--card);
  border-radius:18px;
  padding:22px;
  box-shadow:0 0 40px rgba(34,197,94,.18);
  border:1px solid rgba(34,197,94,.25);
}

.header{
  text-align:center;
  margin-bottom:14px;
}

.badge{
  display:inline-block;
  padding:6px 14px;
  border-radius:20px;
  background:rgba(34,197,94,.15);
  color:var(--green2);
  font-size:13px;
  margin-bottom:8px;
}

h1{
  font-size:22px;
  margin:8px 0;
  color:var(--green2);
}

.timer{
  margin-top:10px;
  font-size:14px;
  color:#facc15;
}

.box{
  background:#020617;
  border-radius:14px;
  padding:16px;
  margin-top:16px;
  border:1px solid rgba(148,163,184,.15);
}

.row{
  display:flex;
  justify-content:space-between;
  font-size:15px;
  margin-bottom:6px;
}

.value{
  font-size:26px;
  font-weight:bold;
  color:var(--green2);
  margin-top:6px;
}

.qr{
  text-align:center;
  margin-top:16px;
}

.qr img{
  max-width:220px;
  width:100%;
  background:#fff;
  padding:10px;
  border-radius:12px;
}

.pix{
  margin-top:14px;
  font-size:13px;
  word-break:break-all;
  background:#020617;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,.2);
}

button{
  margin-top:12px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,var(--green),var(--green2));
  color:#022c22;
  font-weight:bold;
  font-size:16px;
  cursor:pointer;
}

footer{
  margin-top:14px;
  text-align:center;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>

<div class="container">
  <div class="card">
    <div class="header">
      <div class="badge">NEGOCIAÃ‡ÃƒO ATIVA</div>
      <h1>Pagamento via PIX</h1>
      <div class="timer" id="contador">Carregando...</div>
    </div>

    <div class="box">
      <div class="row">
        <span>Cliente</span>
        <span id="cliente">â€”</span>
      </div>
      <div class="row">
        <span>Valor</span>
        <span class="value">R$ <span id="valor">0,00</span></span>
      </div>
    </div>

    <div class="qr">
      <img id="qrcode" src="" alt="QR Code PIX">
    </div>

    <div class="pix" id="pix">â€”</div>

    <button onclick="copiarPix()">COPIAR CHAVE PIX</button>

    <footer>
      Esta negociaÃ§Ã£o expira automaticamente
    </footer>
  </div>
</div>

<script>
// ðŸ”¹ Ler parÃ¢metros
const p = new URLSearchParams(window.location.search);

const nome = p.get("nome") || "Cliente";
const valor = p.get("valor") || "0.00";
const pix = p.get("pix") || "";
const id = p.get("id") || "default";

// ðŸ”¹ Preencher dados
document.getElementById("cliente").innerText = decodeURIComponent(nome);
document.getElementById("valor").innerText =
  parseFloat(valor).toFixed(2).replace(".", ",");

document.getElementById("pix").innerText = decodeURIComponent(pix);

// ðŸ”¹ Gerar QR Code
document.getElementById("qrcode").src =
  "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" +
  encodeURIComponent(pix);

// ðŸ”¹ Contador de 1h por ID
const KEY = "exp_" + id;
let exp = localStorage.getItem(KEY);

if (!exp) {
  exp = Date.now() + 3600000;
  localStorage.setItem(KEY, exp);
}

function tick(){
  const diff = exp - Date.now();
  if (diff <= 0) {
    document.getElementById("contador").innerText =
      "âŒ NegociaÃ§Ã£o expirada";
    return;
  }
  const m = Math.floor(diff / 60000);
  const s = Math.floor((diff % 60000) / 1000);
  document.getElementById("contador").innerText =
    `â³ Expira em ${m}m ${s}s`;
}
setInterval(tick, 1000);
tick();

// ðŸ”¹ Copiar PIX
function copiarPix(){
  navigator.clipboard.writeText(pix);
  alert("Chave PIX copiada");
}
</script>

</body>
</html>





