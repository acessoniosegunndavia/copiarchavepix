<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pagamento via PIX</title>

<style>
:root{
  --bg:#020617;
  --card:#020617;
  --green:#22c55e;
  --green2:#4ade80;
  --text:#e5e7eb;
  --muted:#94a3b8;
}
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#0f172a,#020617);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}

.container{width:100%;max-width:420px}

.card{
  background:linear-gradient(180deg,#020617,#020617);
  border-radius:22px;
  padding:22px;
  box-shadow:0 0 50px rgba(34,197,94,.2);
  border:1px solid rgba(34,197,94,.25);
}

.header{text-align:center;margin-bottom:16px}
.badge{
  display:inline-block;
  padding:6px 16px;
  border-radius:999px;
  background:rgba(34,197,94,.15);
  color:var(--green2);
  font-size:13px;
}
h1{font-size:22px;margin:10px 0;color:var(--green2)}
.timer{margin-top:10px;font-size:14px;color:#facc15}

.box{
  background:#020617;
  border-radius:16px;
  padding:16px;
  margin-top:16px;
  border:1px solid rgba(148,163,184,.15);
}

.row{
  display:flex;
  justify-content:space-between;
  gap:12px;
  font-size:15px;
  margin-bottom:10px;
}

.value{
  font-size:26px;
  font-weight:bold;
  color:var(--green2);
}

.qr{text-align:center;margin-top:18px}
.qr img{
  max-width:230px;
  width:100%;
  background:#fff;
  padding:10px;
  border-radius:14px;
}

.pix{
  margin-top:16px;
  font-size:13px;
  word-break:break-all;
  background:#020617;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(148,163,184,.2);
}

button{
  margin-top:14px;
  width:100%;
  padding:15px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,var(--green),var(--green2));
  color:#022c22;
  font-weight:bold;
  font-size:16px;
  cursor:pointer;
}

footer{
  margin-top:14px;
  text-align:center;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <div class="header">
      <div class="badge">NEGOCIAÇÃO ATIVA</div>
      <h1>Pagamento via PIX</h1>
      <div class="timer" id="contador">Carregando...</div>
    </div>

    <div class="box">
      <div class="row"><span>Nome</span><span id="nome">—</span></div>
      <div class="row"><span>CPF/CNPJ</span><span id="documento">—</span></div>
      <div class="row">
        <span>Valor</span>
        <span class="value">R$ <span id="valor">0,00</span></span>
      </div>
    </div>

    <div class="qr"><img id="qrcode"></div>
    <div class="pix" id="pix">—</div>
    <button onclick="copiarPix()">COPIAR CHAVE PIX</button>
    <footer>Esta negociação expira automaticamente</footer>
  </div>
</div>

<script>
const p=new URLSearchParams(location.search);
const nome=p.get("nome")||"—";
const doc=p.get("doc")||"—";
const valor=p.get("valor")||"0.00";
const pix=p.get("pix")||"";
const id=p.get("id")||"default";

nomeEl.textContent=decodeURIComponent(nome);
documento.textContent=decodeURIComponent(doc);
valorEl.textContent=parseFloat(valor).toFixed(2).replace(".",",");
pixEl.textContent=decodeURIComponent(pix);
qrcode.src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+encodeURIComponent(pix);

// ⏳ EXPIRA EM 1 HORA (REAL)
const KEY="exp_"+id;
let exp=localStorage.getItem(KEY);
if(!exp){exp=Date.now()+3600000;localStorage.setItem(KEY,exp);}

setInterval(()=>{
  const d=exp-Date.now();
  if(d<=0){contador.textContent="❌ Negociação expirada";return;}
  const m=Math.floor(d/60000);
  const s=Math.floor((d%60000)/1000);
  contador.textContent=`⏳ Expira em ${m}m ${s}s`;
},1000);

function copiarPix(){
  navigator.clipboard.writeText(pix);
  alert("Chave PIX copiada");
}

const nomeEl=document.getElementById("nome");
const documento=document.getElementById("documento");
const valorEl=document.getElementById("valor");
const pixEl=document.getElementById("pix");
const qrcode=document.getElementById("qrcode");
const contador=document.getElementById("contador");
</script>
</body>
</html>








